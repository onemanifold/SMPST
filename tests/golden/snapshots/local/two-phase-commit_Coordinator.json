"local protocol TwoPhaseCommit_Coordinator at Coordinator() {\n  Prepare() to P1, P2;\n  choice {\n    Vote1(Bool) from P1;\n    Vote2(Bool) from P2;\n    choice {\n      Commit() to P1, P2;\n    } or {\n      Abort() to P1, P2;\n    }\n  } or {\n    Vote2(Bool) from P2;\n    Vote1(Bool) from P1;\n    choice {\n      Commit() to P1, P2;\n    } or {\n      Abort() to P1, P2;\n    }\n  }\n}"